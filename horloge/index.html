<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Levier</title>
    <meta name ="description" content="Levier - A-Frame">
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-teleport-controls@0.2.0/dist/aframe-teleport-controls.min.js"></script>
    <script src="https://unpkg.com/aframe-controller-cursor-component@0.2.7/dist/aframe-controller-cursor-component.min.js"></script>
    <script src="https://unpkg.com/super-hands@2.1.0/dist/super-hands.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v3.12.4/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-text-geometry-component@0.5.1/dist/aframe-text-geometry-component.min.js"></script>
    <script src="components/ui-widget.js"></script>
    <script src="components/collider-check.js"></script><!--
      <script src="https://rawgit.com/caseyyee/aframe-ui-widgets/master/dist/aframe-ui-widgets.min.js"></script>

    <script src="components/random-color.js"></script>
    <script src="components/snap.js"></script>
  -->
  </head>
  <body>
    <a-scene stats>
      <a-assets>
        <img id="solTexture" src="https://cdn.aframe.io/a-painter/images/floor.jpg" crossorigin="anonymous">
        <img id="skyTexture" src="https://cdn.aframe.io/a-painter/images/sky.jpg" crossorigin="anonymous">

        <!-- font -->
        <!--<a-asset-item id="optimerBoldFont" src="https://rawgit.com/mrdoob/three.js/dev/examples/fonts/optimer_bold.typeface.json"></a-asset-item>-->

      </a-assets>

      <!-- Boutons -->

<!--
      <a-entity id="monLevier" mixin="square">
        <a-entity grabbable pivot="0 0 0"geometry="primitive:box; depth:0.1; heigth:1; width:0.1"
          position="0 0.5 0" rotation="90 0 0">
          <a-entity geometry="primitive:sphere; radius:0.1" position="0 0.5 0"></a-entity>
        </a-enity>
      </a-entity>0-->

      <a-entity id="horloge" geometry="primitive: cylinder; radius:0.59; height:0.05;" position="0 0.5 0.8" material="color:#FFFFFF;" rotation="90 180 0">
        <a-entity id="monAiguille" ui-rotary>
        </a-entity>
        <a-entity geometry="primitive: box; depth:0.01; height: 0.6; width:0.02;" position="0 0.048 -0.217" material="color:#a82121" rotation="90 0 0"></a-entity>
        <a-entity id="lesChiffres">
          <a-entity  text="value:1;align:center;color:#000000;width:4" rotation="-90 0 0" position="0.252 0.027 -0.388" geometry="height:0.15;width:0.15;depth:0.1" material="color:#ff80c0;alphaTest:0.63"></a-entity>
          <a-entity  text="value:2;align:center;color:#000000;width:4" rotation="-90 0 0" position="0.419 0.027 -0.25" geometry="height:0.15;width:0.15;depth:0.1" material="color:#ff80c0;alphaTest:0.63"></a-entity>
          <a-entity  text="value:3;align:center;color:#000000;width:4" rotation="-90 0 0" position="0.493 0.027 -0.003" geometry="height:0.15;width:0.15;depth:0.1" material="color:#ff80c0;alphaTest:0.63"></a-entity>
          <a-entity  text="value:4;align:center;color:#000000;width:4" rotation="-90 0 0" position="0.419 0.027 0.255" geometry="height:0.15;width:0.15;depth:0.1" material="color:#ff80c0;alphaTest:0.63"></a-entity>
          <a-entity  text="value:5;align:center;color:#000000;width:4" rotation="-90 0 0" position="0.237 0.027 0.41" geometry="height:0.15;width:0.15;depth:0.1" material="color:#ff80c0;alphaTest:0.63"></a-entity>
          <a-entity  text="value:6;align:center;color:#000000;width:4" rotation="-90 0 0" position="0 0.027 0.474" geometry="height:0.15;width:0.15;depth:0.1" material="color:#ff80c0;alphaTest:0.63"></a-entity>
          <a-entity  text="value:7;align:center;color:#000000;width:4" rotation="-90 0 0" position="-0.261 0.027 0.41" geometry="height:0.15;width:0.15;depth:0.1" material="color:#ff80c0;alphaTest:0.63"></a-entity>
          <a-entity  text="value:8;align:center;color:#000000;width:4" rotation="-90 0 0" position="-0.43 0.027 0.255" geometry="height:0.15;width:0.15;depth:0.1" material="color:#ff80c0;alphaTest:0.63"></a-entity>
          <a-entity  text="value:9;align:center;color:#000000;width:4" rotation="-90 0 0" position="-0.493 0.027 -0.003" geometry="height:0.15;width:0.15;depth:0.1" material="color:#ff80c0;alphaTest:0.63"></a-entity>
          <a-entity  text="value:10;align:center;color:#000000;width:4" rotation="-90 0 0" position="-0.43 0.027 -0.217" geometry="height:0.15;width:0.15;depth:0.1" material="color:#ff80c0;alphaTest:0.63"></a-entity>
          <a-entity  text="value:11;align:center;color:#000000;width:4" rotation="-90 0 0" position="-0.261 0.027 -0.388" geometry="height:0.15;width:0.15;depth:0.1" material="color:#ff80c0;alphaTest:0.63"></a-entity>
          <a-entity  text="value:12;align:center;color:#000000;width:4" rotation="-90 0 0" position="0 0.027 -0.462" geometry="height:0.15;width:0.15;depth:0.0.005" material="color:#ff80c0;alphaTest:0.63"></a-entity>
        </a-entity>
      </a-entity>


      <!-- Mains -->
      <a-entity id="teleHand"
        hand-controls="left"
        teleport-controls="type : parabolic;
        collisionEntities : [mixin='voxel'], #sol">
      </a-entity>
      <a-entity id="blockHand"
        hand-controls="right"
        controller-cursor>
      </a-entity>

      <!-- Ciel et sol -->
      <a-sky id="fondArriere" theta-length="90"
        radius="5" src="#skyTexture">
      </a-sky>
      <a-cylinder radius="5" height="0.1"
        id="sol" src="#solTexture">
      </a-cylinder>

    </a-scene>
  <script>
     var monHorloge = document.querySelector('#horloge');
     var angle = knob.rotation.y * 180 / Math.PI;
     console.log(angle);
    /*
    12 = 0.22922853427883383 et -0.23235042978967302
    1 =-0.374113606680754 et -0.7919737102765261
    2 = -0.8345147325449358 et -1.1641998009858112
    3 = -1.3922972413402361 et -1.636005115495924
    4 = -1.99811318158857 et -2.1849884116977987
    5 = -2.39450711425554 et -2.615905558557783
    6 = -2.9463511208008177 et -3.2524853598130763
    7 = -3.588855217499487 et -3.9011137607611936
    8 = -4.066164896619931 et  -4.236056552280541
    9 = -4.527870889375925 et -4.797329285685695
    10 = -5.0025612788875335 et -5.33764103073996
    11 = -5.508761549506156 et -5.810486128384262
*/
     /* Lorsque que la petite aiguille tombe sur un chiffre*/
     monHorloge.addEventListener('change', function(){

       /* Pour 12 */
       if(knob.rotation.y < 0.22922853427883383 &&
          knob.rotation.y > -0.23235042978967302) {
         console.log("test 12");

         monHorloge.setAttribute("material", "color:#c9c3c3");
       }

       /* Pour 1 */
       else if(knob.rotation.y < -0.374113606680754 &&
          knob.rotation.y > -0.7919737102765261) {
         console.log("test 1");

         monHorloge.setAttribute("material", "color:#af9480");
       }

       /* Pour 2 */
       else if(knob.rotation.y < -0.8345147325449358 &&
          knob.rotation.y > -1.1641998009858112) {
         console.log("test 2");

          monHorloge.setAttribute("material", "color:#498446");
       }

       /* Pour 3 */
       else if(knob.rotation.y < -1.3922972413402361 &&
          knob.rotation.y > -1.636005115495924) {
         console.log("test 3");

         monHorloge.setAttribute("material", "color:#fffb26");
       }

       /* Pour 4 */
       else if(knob.rotation.y < -1.99811318158857 &&
          knob.rotation.y > -2.1849884116977987) {
         console.log("test 4");

         monHorloge.setAttribute("material", "color:#28ffde");
       }

       /* Pour 5 */
       else if(knob.rotation.y < -2.39450711425554 &&
          knob.rotation.y > -2.615905558557783) {
         console.log("test 5");

         monHorloge.setAttribute("material", "color:#2772f4");
       }

       /* Pour 6 */
       else if(knob.rotation.y < -2.9463511208008177 &&
          knob.rotation.y > -3.2524853598130763) {
         console.log("test 6");

         monHorloge.setAttribute("material", "color:#8e27e8");
       }

       /* Pour 7 */
       else if(knob.rotation.y < -3.588855217499487 &&
          knob.rotation.y > -3.9011137607611936) {
         console.log("test 7");

         monHorloge.setAttribute("material", "color:#e829be");
       }

       /* Pour 8 */
       else if(knob.rotation.y < -4.066164896619931 &&
          knob.rotation.y > -4.236056552280541) {
         console.log("test 8");

         monHorloge.setAttribute("material", "color:#e2266e");
       }

       /* Pour 9 */
       else if(knob.rotation.y < -4.527870889375925 &&
          knob.rotation.y > -4.797329285685695) {
         console.log("test 9");

         monHorloge.setAttribute("material", "color:#890000");
       }

       /* Pour 10 */
       else if(knob.rotation.y < -5.0025612788875335 &&
          knob.rotation.y > -5.33764103073996) {
         console.log("test 10");

         monHorloge.setAttribute("material", "color:#ff9000");
       }

       /* Pour 11 */
       else if(knob.rotation.y < -5.508761549506156 &&
          knob.rotation.y > -5.810486128384262) {
         console.log("test 11");

         monHorloge.setAttribute("material", "color:#154c56");
       }

     });
   </script>
  </body>
</html>
